<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div id="box" style="border:2px solid red; width:300px; height:200px; position: absolute;">박스</div>
<script>
	
	function animateIt(elementId) {

		// animateIt() 함수 안에 해당 엘리먼트의 참조를 만든다.
		var elem = document.getElementById(elementId);
		var tick = 0;

		// 10밀리초 주기로 콜백 함수를 실행하는 타이머를 생성하고 시작한다.
		// 이 타이머는 100단계마다 엘리먼트의 위치를 조정한다.
		var timer = setInterval(function(){
			if (tick < 100) {
				elem.style.left = elem.style.top = tick + "px";
				tick++;
			} else {

				// 100단계가 지나면, 타이머를 멈추고 애니메이션을 수행하는데 필요한 모든 변수를 볼 수 있는지에 대해서 검증하는 테스트를 수행한다.
				clearInterval(timer);
				console.log('클로저를 통해 tick변수에 접근한다.');
				console.log("tick :: " + tick);
				console.log(tick === 100);
				console.log('elem변수 역시 클로저를 통해 접근한다.');
				console.log('elem :: ' + elem);
				console.log('timer 변수에 대한 참조 역시 클로저를 통해 얻을 수 있다.');
				console.log('timer :: ' + timer);
			}
		}, 10);

	}

	animateIt('box');
</script>
</body>
</html>